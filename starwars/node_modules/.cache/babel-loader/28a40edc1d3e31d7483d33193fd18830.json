{"ast":null,"code":"import _slicedToArray from\"/Users/Jolly/Projects/18-typescript/starwars/starwars/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{csv}from\"d3\";import TextField from\"@mui/material/TextField\";import{Search}from\"@mui/icons-material\";import Button from\"@mui/material/Button\";import SearchResults from\"./SearchResults\";import{styled}from\"@mui/material/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledTextField=styled(TextField)({\"& label\":{color:\"white\"},\"&:hover label\":{fontWeight:700},\"& label.Mui-focused\":{color:\"white\"},\"& .MuiInput-underline:after\":{borderBottomColor:\"white\"},\"& .MuiOutlinedInput-root\":{color:\"white\",\"& fieldset\":{borderColor:\"white\"},\"&:hover fieldset\":{borderColor:\"white\",borderWidth:2},\"&.Mui-focused fieldset\":{borderColor:\"white\"}}});var SearchInput=function SearchInput(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),sets=_useState2[0],setSets=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),themes=_useState4[0],setThemes=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];useEffect(function(){csv(\"data/sets.csv\").then(function(data){return setSets(data);});csv(\"data/themes.csv\").then(function(data){setThemes(data);});},[]);var handleChange=function handleChange(event){setSearch(event.target.value);};var searchLego=function searchLego(event){event.preventDefault();if(sets&&themes){var searchIndex=sets.findIndex(function(row){return row.set_id==search;});var setsResult=sets[searchIndex];if(setsResult){var themeIndex=themes.findIndex(function(row){return row.id==setsResult.theme_id;});var themesResult=themes[themeIndex];setResult({themeName:themesResult.name,name:setsResult.name,year:setsResult.year,num_parts:setsResult.num_parts});}else{setResult(undefined);setError(\"No Results Found\");}}setSearch(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"searchSection\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"searchForm\",onSubmit:searchLego,children:/*#__PURE__*/_jsxs(\"div\",{className:\"formContents\",children:[/*#__PURE__*/_jsx(StyledTextField,{className:\"searchInput\",label:\"Search\",variant:\"outlined\",value:search,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{className:\"searchButton\",variant:\"contained\",endIcon:/*#__PURE__*/_jsx(Search,{}),type:\"submit\",size:\"large\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"resultSection\",children:result?/*#__PURE__*/_jsx(SearchResults,{result:result}):/*#__PURE__*/_jsx(\"h3\",{children:error})})]});};export default SearchInput;","map":{"version":3,"names":["React","useState","useEffect","csv","TextField","Search","Button","SearchResults","styled","StyledTextField","color","fontWeight","borderBottomColor","borderColor","borderWidth","SearchInput","sets","setSets","themes","setThemes","search","setSearch","result","setResult","error","setError","then","data","handleChange","event","target","value","searchLego","preventDefault","searchIndex","findIndex","row","set_id","setsResult","themeIndex","id","theme_id","themesResult","themeName","name","year","num_parts","undefined"],"sources":["/Users/Jolly/Projects/18-typescript/starwars/starwars/src/components/SearchInput.tsx"],"sourcesContent":["import React, { useState, useEffect, FormEvent } from \"react\";\nimport { csv, DSVRowArray } from \"d3\";\nimport TextField from \"@mui/material/TextField\";\nimport { Search } from \"@mui/icons-material\";\nimport Button from \"@mui/material/Button\";\nimport SearchResults from \"./SearchResults\";\nimport { SearchResult } from \"../models/dataModels\";\nimport { styled } from \"@mui/material/styles\";\n\nconst StyledTextField = styled(TextField)({\n  \"& label\": {\n    color: \"white\",\n  },\n  \"&:hover label\": {\n    fontWeight: 700,\n  },\n  \"& label.Mui-focused\": {\n    color: \"white\",\n  },\n  \"& .MuiInput-underline:after\": {\n    borderBottomColor: \"white\",\n  },\n  \"& .MuiOutlinedInput-root\": {\n    color: \"white\",\n    \"& fieldset\": {\n      borderColor: \"white\",\n    },\n    \"&:hover fieldset\": {\n      borderColor: \"white\",\n      borderWidth: 2,\n    },\n    \"&.Mui-focused fieldset\": {\n      borderColor: \"white\",\n    },\n  },\n});\n\nconst SearchInput = () => {\n  const [sets, setSets] = useState<DSVRowArray>();\n  const [themes, setThemes] = useState<DSVRowArray>();\n  const [search, setSearch] = useState<string>(\"\");\n  const [result, setResult] = useState<SearchResult>();\n  const [error, setError] = useState<string>(\"\");\n  useEffect(() => {\n    csv(\"data/sets.csv\").then((data) => setSets(data));\n    csv(\"data/themes.csv\").then((data) => {\n      setThemes(data);\n    });\n  }, []);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearch(event.target.value);\n  };\n\n  const searchLego = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (sets && themes) {\n      let searchIndex = sets.findIndex((row) => row.set_id == search);\n      let setsResult = sets[searchIndex];\n      if (setsResult) {\n        let themeIndex = themes.findIndex(\n          (row) => row.id == setsResult.theme_id\n        );\n        let themesResult = themes[themeIndex];\n        setResult({\n          themeName: themesResult.name,\n          name: setsResult.name,\n          year: setsResult.year,\n          num_parts: setsResult.num_parts,\n        });\n      } else {\n        setResult(undefined);\n        setError(\"No Results Found\");\n      }\n    }\n    setSearch(\"\");\n  };\n  return (\n    <div className=\"searchSection\">\n      <form className=\"searchForm\" onSubmit={searchLego}>\n        <div className=\"formContents\">\n          <StyledTextField\n            className=\"searchInput\"\n            label=\"Search\"\n            variant=\"outlined\"\n            value={search}\n            onChange={handleChange}\n          />\n          <Button\n            className=\"searchButton\"\n            variant=\"contained\"\n            endIcon={<Search />}\n            type=\"submit\"\n            size=\"large\"\n          >\n            Search\n          </Button>\n        </div>\n      </form>\n      <div className=\"resultSection\">\n        {result ? (\n          <SearchResults result={result}></SearchResults>\n        ) : (\n          <h3>{error}</h3>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}